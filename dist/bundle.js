!function(r){var n={};function e(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return r[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=r,e.c=n,e.d=function(r,n,t){e.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:t})},e.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},e.t=function(r,n){if(1&n&&(r=e(r)),8&n)return r;if(4&n&&"object"==typeof r&&r&&r.__esModule)return r;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:r}),2&n&&"string"!=typeof r)for(var o in r)e.d(t,o,function(n){return r[n]}.bind(null,o));return t},e.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(n,"a",n),n},e.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},e.p="",e(e.s=6)}([function(r,n,e){"use strict";var t,o=function(){return void 0===t&&(t=Boolean(window&&document&&document.all&&!window.atob)),t},a=function(){var r={};return function(n){if(void 0===r[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(r){e=null}r[n]=e}return r[n]}}(),i=[];function l(r){for(var n=-1,e=0;e<i.length;e++)if(i[e].identifier===r){n=e;break}return n}function s(r,n){for(var e={},t=[],o=0;o<r.length;o++){var a=r[o],s=n.base?a[0]+n.base:a[0],p=e[s]||0,d="".concat(s," ").concat(p);e[s]=p+1;var c=l(d),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==c?(i[c].references++,i[c].updater(u)):i.push({identifier:d,updater:h(u,n),references:1}),t.push(d)}return t}function p(r){var n=document.createElement("style"),t=r.attributes||{};if(void 0===t.nonce){var o=e.nc;o&&(t.nonce=o)}if(Object.keys(t).forEach((function(r){n.setAttribute(r,t[r])})),"function"==typeof r.insert)r.insert(n);else{var i=a(r.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}return n}var d,c=(d=[],function(r,n){return d[r]=n,d.filter(Boolean).join("\n")});function u(r,n,e,t){var o=e?"":t.media?"@media ".concat(t.media," {").concat(t.css,"}"):t.css;if(r.styleSheet)r.styleSheet.cssText=c(n,o);else{var a=document.createTextNode(o),i=r.childNodes;i[n]&&r.removeChild(i[n]),i.length?r.insertBefore(a,i[n]):r.appendChild(a)}}function g(r,n,e){var t=e.css,o=e.media,a=e.sourceMap;if(o?r.setAttribute("media",o):r.removeAttribute("media"),a&&btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),r.styleSheet)r.styleSheet.cssText=t;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(t))}}var x=null,f=0;function h(r,n){var e,t,o;if(n.singleton){var a=f++;e=x||(x=p(n)),t=u.bind(null,e,a,!1),o=u.bind(null,e,a,!0)}else e=p(n),t=g.bind(null,e,n),o=function(){!function(r){if(null===r.parentNode)return!1;r.parentNode.removeChild(r)}(e)};return t(r),function(n){if(n){if(n.css===r.css&&n.media===r.media&&n.sourceMap===r.sourceMap)return;t(r=n)}else o()}}r.exports=function(r,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=o());var e=s(r=r||[],n);return function(r){if(r=r||[],"[object Array]"===Object.prototype.toString.call(r)){for(var t=0;t<e.length;t++){var o=l(e[t]);i[o].references--}for(var a=s(r,n),p=0;p<e.length;p++){var d=l(e[p]);0===i[d].references&&(i[d].updater(),i.splice(d,1))}e=a}}}},function(r,n,e){"use strict";r.exports=function(r){var n=[];return n.toString=function(){return this.map((function(n){var e=function(r,n){var e=r[1]||"",t=r[3];if(!t)return e;if(n&&"function"==typeof btoa){var o=(i=t,l=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(s," */")),a=t.sources.map((function(r){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(r," */")}));return[e].concat(a).concat([o]).join("\n")}var i,l,s;return[e].join("\n")}(n,r);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(r,e,t){"string"==typeof r&&(r=[[null,r,""]]);var o={};if(t)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var l=0;l<r.length;l++){var s=[].concat(r[l]);t&&o[s[0]]||(e&&(s[2]?s[2]="".concat(e," and ").concat(s[2]):s[2]=e),n.push(s))}},n}},function(r,n,e){var t=e(0),o=e(3);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[r.i,o,""]]);var a={insert:"head",singleton:!1},i=(t(o,a),o.locals?o.locals:{});r.exports=i},function(r,n,e){(n=e(1)(!1)).push([r.i,"body, html{\r\n  padding: 0;\r\n  margin: 0;\r\n  overflow: hidden;\r\n  background: black;\r\n  max-height: 100vh;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n  width: 9px;\r\n  height: 9px;\r\n}\r\n::-webkit-scrollbar-button {\r\n  width: 7px;\r\n  height: 7px;\r\n}\r\n::-webkit-scrollbar-thumb {\r\n  background: #e1e1e1;\r\n  border: 0px none #ffffff;\r\n  border-radius: 50px;\r\n}\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: #ffffff;\r\n}\r\n::-webkit-scrollbar-thumb:active {\r\n  background: #000000;\r\n}\r\n::-webkit-scrollbar-track {\r\n  background: #666666;\r\n  border: 0px none #ffffff;\r\n  border-radius: 50px;\r\n}\r\n::-webkit-scrollbar-track:hover {\r\n  background: #666666;\r\n}\r\n::-webkit-scrollbar-track:active {\r\n  background: #333333;\r\n}\r\n::-webkit-scrollbar-corner {\r\n  background: transparent;\r\n}\r\n\r\ninput[type=range] {\r\n  width: 70%;\r\n}\r\n\r\ninput[type=range].slider {\r\n  -webkit-appearance: none;\r\n  width: 100%;\r\n  margin: 0.7px 0;\r\n}\r\ninput[type=range].slider:focus {\r\n  outline: none;\r\n}\r\ninput[type=range].slider::-webkit-slider-runnable-track {\r\n  width: 100%;\r\n  height: 25.6px;\r\n  cursor: pointer;\r\n  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\r\n  background: #484d4d;\r\n  border-radius: 0px;\r\n  border: 0px solid #010101;\r\n}\r\ninput[type=range].slider::-webkit-slider-thumb {\r\n  box-shadow: 0px 0px 1px #670000, 0px 0px 0px #810000;\r\n  border: 0px solid #ff1e00;\r\n  height: 27px;\r\n  width: 18px;\r\n  border-radius: 0px;\r\n  background: rgba(255, 67, 95, 0.93);\r\n  cursor: pointer;\r\n  -webkit-appearance: none;\r\n  margin-top: -0.7px;\r\n}\r\ninput[type=range].slider:focus::-webkit-slider-runnable-track {\r\n  background: #4a5050;\r\n}\r\ninput[type=range].slider::-moz-range-track {\r\n  width: 100%;\r\n  height: 25.6px;\r\n  cursor: pointer;\r\n  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\r\n  background: #484d4d;\r\n  border-radius: 0px;\r\n  border: 0px solid #010101;\r\n}\r\ninput[type=range].slider::-moz-range-thumb {\r\n  box-shadow: 0px 0px 1px #670000, 0px 0px 0px #810000;\r\n  border: 0px solid #ff1e00;\r\n  height: 27px;\r\n  width: 18px;\r\n  border-radius: 0px;\r\n  background: rgba(255, 67, 95, 0.93);\r\n  cursor: pointer;\r\n}\r\ninput[type=range].slider::-ms-track {\r\n  width: 100%;\r\n  height: 25.6px;\r\n  cursor: pointer;\r\n  background: transparent;\r\n  border-color: transparent;\r\n  color: transparent;\r\n}\r\ninput[type=range].slider::-ms-fill-lower {\r\n  background: #464a4a;\r\n  border: 0px solid #010101;\r\n  border-radius: 0px;\r\n  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\r\n}\r\ninput[type=range].slider::-ms-fill-upper {\r\n  background: #484d4d;\r\n  border: 0px solid #010101;\r\n  border-radius: 0px;\r\n  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\r\n}\r\ninput[type=range].slider::-ms-thumb {\r\n  box-shadow: 0px 0px 1px #670000, 0px 0px 0px #810000;\r\n  border: 0px solid #ff1e00;\r\n  height: 27px;\r\n  width: 18px;\r\n  border-radius: 0px;\r\n  background: rgba(255, 67, 95, 0.93);\r\n  cursor: pointer;\r\n  height: 25.6px;\r\n}\r\ninput[type=range].slider:focus::-ms-fill-lower {\r\n  background: #484d4d;\r\n}\r\ninput[type=range].slider:focus::-ms-fill-upper {\r\n  background: #4a5050;\r\n}\r\n\r\ncanvas {\r\n  width: 100%;\r\n  height: auto;\r\n  max-height: 100%;\r\n  display: inline-block;\r\n  border-radius: 7px;\r\n  /* box-sizing: border-box; */\r\n}\r\n\r\nlabel {\r\n  padding: 10px;\r\n  color: #feffff;\r\n  font-family: sans-serif;\r\n  display: block;\r\n}\r\n\r\n.potions {\r\n  display: flex;\r\n  max-width: 100%;\r\n  margin-top: 5px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.potions > button {\r\n  color: #0000009e;\r\n  width: 50px;\r\n  height: 50px;\r\n  font-weight: bold;\r\n  border-radius: 50px;\r\n  padding: 10px;\r\n  transition: transform 50ms, box-shadow 50ms;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-evenly;\r\n  margin: 10px;\r\n  user-select: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.potions > button > i {\r\n  font-size: 20px;\r\n}\r\n\r\n.potions > .blue {\r\n  background: #2d90f6;\r\n  border: 5px solid #217cbd;\r\n  box-shadow: 0px 0px 0px 3px #2d90f6, 0px 8px 0px 3px #17639a;\r\n}\r\n\r\n.potions > .blue:active{\r\n  transform: translate(0px, 6px);\r\n  box-shadow: 0px 0px 0px 3px #2d90f6, 0px 2px 0px 3px #17639a;\r\n}\r\n\r\n.potions > .red {\r\n  background: #ff1a1a;\r\n  border: 5px solid #cf1717;\r\n  box-shadow: 0px 0px 0px 3px #ff1a1a, 0px 8px 0px 3px #7b1414;\r\n}\r\n\r\n.potions > .red:active {\r\n  transform: translate(0px, 6px);\r\n  box-shadow: 0px 0px 0px 3px #ff1a1a, 0px 2px 0px 3px #7b1414;\r\n}\r\n\r\n.potions > .green{\r\n  background: #13c418;\r\n  border: 5px solid #129a16;\r\n  box-shadow: 0px 0px 0px 3px #13c418, 0px 8px 0px 3px #0a6e0d;\r\n}\r\n\r\n.potions > .green:active {\r\n  transform: translate(0px, 6px);\r\n  box-shadow: 0px 0px 0px 3px #13c418, 0px 2px 0px 3px #0a6e0d;\r\n}\r\n\r\n.potions > .orange{\r\n  background: hsl(30, 100%, 55%);\r\n  border: 5px solid hsla(0, 0%, 0%, 0.15);\r\n  box-shadow: 0px 0px 0px 3px hsl(30, 100%, 57%), 0px 8px 0px 3px hsl(30, 83%, 31%);\r\n}\r\n\r\n.potions > .orange:active {\r\n  transform: translate(0px, 6px);\r\n  box-shadow: 0px 0px 0px 3px hsl(30, 100%, 57%), 0px 2px 0px 3px hsl(30, 83%, 31%);\r\n}\r\n\r\n\r\n#reset{\r\n  cursor: pointer;\r\n  user-select: none;\r\n  margin-bottom: 20px;\r\n  background: #e8e8e8;\r\n  color: #6f6f6f;\r\n  width: 80px;\r\n  height: 60px;\r\n  font-weight: bold;\r\n  border: 5px solid #939393;\r\n  border-radius: 50px;\r\n  padding: 10px;\r\n  margin-top: 10px;\r\n  box-shadow: 0px 0px 0px 3px #e5e5e5, 0px 8px 0px 3px #b0b0b0;\r\n  transition: transform 50ms, box-shadow 50ms;\r\n  font-size: 30px;\r\n  font-family: cursive;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  line-height: 0;\r\n}\r\n\r\n#restart:active{\r\n  transform: translate(0px, 6px);\r\n  box-shadow: 0px 0px 0px 3px #e5e5e5, 0px 2px 0px 3px #b0b0b0;\r\n}\r\n\r\n#recipe{\r\n  box-shadow: #141414 0px 6px;\r\n  min-height: 52px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 5px;\r\n  box-sizing: border-box;\r\n  background: #232323;\r\n  border-radius: 30px;\r\n  max-width: 100%;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  width: fit-content;\r\n}\r\n\r\n#recipe > i {\r\n  font-size: 20px;\r\n    font-weight: bold;\r\n    padding: 8px;\r\n    border-radius: 50px;\r\n    margin: 3px;\r\n    color: #00000099;\r\n}\r\n\r\n#recipe > .blue {\r\n  background: #3e9dff;;\r\n}\r\n\r\n#recipe > .red {\r\n  background: #ff1d1d;\r\n}\r\n\r\n#recipe > .green {\r\n  background: #23ef29;\r\n}\r\n\r\n#recipe > .orange {\r\n  background: #ff9426;\r\n}\r\n\r\n#recipe > .grey {\r\n  background: #888;\r\n}\r\n\r\n#ui {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.target {\r\n  /* background: #0004; */\r\n  position: absolute;\r\n  width: 50px;\r\n  height: 50px;\r\n  background-size: contain;\r\n  background-position: center;\r\n  transition: all 200ms;\r\n  opacity: 0.5;\r\n  cursor: pointer;\r\n}\r\n\r\n.target-large{\r\n  width: 100%;\r\n  height: 100%;\r\n  opacity: 1;\r\n}\r\n\r\n#ui > #msg {\r\n  width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n#sliders {\r\n  width: 100%;\r\n}\r\n\r\n.slider{\r\n  width: 100%;\r\n  display: grid;\r\n  grid-template-columns: 50px 1fr 50px;\r\n}\r\n\r\n.slider > i {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #fff8;\r\n  text-shadow: 0 0 white;\r\n}\r\n\r\n.slider > input {\r\n  width: 100%;\r\n}\r\n\r\n#win{\r\n  position: absolute;\r\n  color : #ffffff8f;\r\n  font-size : 220px;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  filter: blur(1px);\r\n  text-shadow: 0 0 10px #00ff2b00, 0 0 30px #ff005f;\r\n  opacity: 0;\r\n  transition: opacity .5s;\r\n}\r\n\r\n#win > .top-heart{\r\n  position: absolute;\r\n  transition: transform .5s ease-out 0.5s;\r\n}\r\n\r\nheader {\r\n  width: 100%;\r\n  max-width: 800px;\r\n  height: 60px;\r\n  display: block;\r\n}\r\n\r\nheader > i {\r\n  float: right;\r\n  width: 60px;\r\n  height: 60px;\r\n  color: white;\r\n  font-size: 30px;\r\n  display: flex !important;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.screen {\r\n  max-height: calc(100vh - 287px);\r\n  max-width: calc(100vh - 287px);\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n#levelSelect {\r\n  position: absolute;\r\n  display: none;\r\n  width: 100%;\r\n  height: 100%;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 10px;\r\n  min-height: 360px;\r\n  box-sizing: border-box;\r\n  overflow-y: auto;\r\n  flex-direction: column;\r\n  max-height: 100vh;\r\n}\r\n\r\n#levelSelect > div.arrows{\r\n  font-size: 40px;\r\n  display: flex;\r\n  width: 100%;\r\n  max-width: 500px;\r\n  justify-content: space-around;\r\n  color: white;\r\n  z-index: 2;\r\n  background: #0008;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n#levelsBtn{\r\n  cursor: pointer;\r\n}\r\n\r\n#levelSelect > div.arrows > div.arrow{\r\n  width: 100%;\r\n  text-align: center;\r\n  transition: background-color 500ms;\r\n}\r\n\r\n#levelSelect > div.arrows > div.arrow{\r\n  width: 100%;\r\n  text-align: center;\r\n  transition: background-color 500ms;\r\n}\r\n\r\n#levelSelect > div.arrows > div.arrow:hover{\r\n  background: #ffffff2e;\r\n}\r\n\r\n#levelSelect > div.bg {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: #0008;\r\n  z-index: 0;\r\n}\r\n\r\n#levelsList {\r\n  max-width: 500px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-around;\r\n    background: #070707c4;\r\n  box-shadow: black 0px 20px 40px;\r\n  z-index: 1;\r\n  max-height: 100vh;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.levelsItem {\r\n  width: 150px;\r\n  height: 150px;\r\n  background-size: contain;\r\n  transition: background-color 500ms;\r\n  cursor: pointer;\r\n}\r\n\r\n.levelsItem:hover {\r\n  background-color: #1919198c;\r\n}\r\n\r\n.bottom {\r\n  max-width: 800px;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n@keyframes fade-in{\r\n  from {opacity: 0;}\r\n  to {opacity: 1;}\r\n  }\r\n\r\n.fade-in {\r\n  animation-name: fade-in;\r\n  animation-iteration-count: 1;\r\n  animation-duration: 500ms;\r\n}\r\n\r\n@keyframes fade-out{\r\n  from {opacity: 1;}\r\n  to {opacity: 0;}\r\n}\r\n\r\n.fade-out{\r\n    animation-name: fade-in;\r\n    animation-iteration-count: 1;\r\n    animation-duration: 500ms;\r\n}",""]),r.exports=n},function(r,n,e){var t=e(0),o=e(5);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[r.i,o,""]]);var a={insert:"head",singleton:!1},i=(t(o,a),o.locals?o.locals:{});r.exports=i},function(r,n,e){(n=e(1)(!1)).push([r.i,"input[type=range] {\r\n    height: 31px;\r\n    -webkit-appearance: none;\r\n    margin: 5px 0;\r\n    width: 100%;\r\n    background: transparent;\r\n  }\r\n  input[type=range]:focus {\r\n    outline: none;\r\n  }\r\n  input[type=range]::-webkit-slider-runnable-track {\r\n    width: 100%;\r\n    height: 20px;\r\n    cursor: pointer;\r\n    box-shadow: 0px 0px 0px #000000;\r\n    background: #0003;\r\n    border-radius: 33px;\r\n    border: 4px solid #FFF8;\r\n  }\r\n  input[type=range]::-webkit-slider-thumb {\r\n    box-shadow: 0px 0px 0px #000000;\r\n    border: 0px solid #000000;\r\n    height: 35px;\r\n    width: 16px;\r\n    border-radius: 46px;\r\n    background: #FFFFFF;\r\n    cursor: pointer;\r\n    -webkit-appearance: none;\r\n    margin-top: -10px;\r\n  }\r\n  input[type=range]:focus::-webkit-slider-runnable-track {\r\n    background: #fff1;\r\n  }\r\n  input[type=range]::-moz-range-track {\r\n    width: 100%;\r\n    height: 20px;\r\n    cursor: pointer;\r\n    box-shadow: 0px 0px 0px #000000;\r\n    background: #0003;\r\n    border-radius: 33px;\r\n    border: 4px solid #FFF8;\r\n  }\r\n  input[type=range]::-moz-range-thumb {\r\n    box-shadow: 0px 0px 0px #000000;\r\n    border: 0px solid #000000;\r\n    height: 35px;\r\n    width: 16px;\r\n    border-radius: 46px;\r\n    background: #FFFFFF;\r\n    cursor: pointer;\r\n    -webkit-appearance: none;\r\n    margin-top: -10px;\r\n  }\r\n  input[type=range]::-ms-track {\r\n    width: 100%;\r\n    height: 20px;\r\n    cursor: pointer;\r\n    box-shadow: 0px 0px 0px #000000;\r\n    background: #0003;\r\n    border-radius: 33px;\r\n    border: 4px solid #FFF8;\r\n  }\r\n  input[type=range]::-ms-fill-lower {\r\n    background: #000000;\r\n    border: 4px solid #FFFFFF;\r\n    border-radius: 66px;\r\n    box-shadow: 0px 0px 0px #000000;\r\n  }\r\n  input[type=range]::-ms-fill-upper {\r\n    background: #000000;\r\n    border: 4px solid #FFFFFF;\r\n    border-radius: 66px;\r\n    box-shadow: 0px 0px 0px #000000;\r\n  }\r\n  input[type=range]::-ms-thumb {\r\n    margin-top: 1px;\r\n    box-shadow: 0px 0px 0px #000000;\r\n    border: 0px solid #000000;\r\n    height: 25px;\r\n    width: 16px;\r\n    border-radius: 46px;\r\n    background: #FFFFFF;\r\n    cursor: pointer;\r\n  }\r\n  input[type=range]:focus::-ms-fill-lower {\r\n    background: #000000;\r\n  }\r\n  input[type=range]:focus::-ms-fill-upper {\r\n    background: #000000;\r\n  }",""]),r.exports=n},function(r,n,e){"use strict";e.r(n);let t=document.getElementById("canvas"),o=t.getContext("2d"),a=t.width,i=t.height,l=a/2,s=i/2;o.fillStyle="black",o.strokeStyle="#29ff7e",o.lineWidth=5,o.lineCap="round";let p,d,c,u,g,x,f,h,b,m=0,y=20,w=.04,v=320,k=350,C=[],S=[],F=320,I=320,M=350,N=350,E=!0,L=!1,A={};function R(){L=!1,E=!0,v=320,k=350,m=0,w=.05,p=1,d=1,c=0,u=1,g=1,x=0,f=1.5707963267948966,h=1.5707963267948966,b=0,I=320,N=350,F=320,M=350,o.setTransform(1,0,0,1,-F+l,-M+s),_("white")}function j(){if(o.save(),o.globalAlpha=w,o.globalCompositeOperation="destination-out",o.fillStyle="#000",o.fillRect(-l+F,-s+M,a,i),o.restore(),!E)return;let r=p+Math.random()*c,n=v+Math.cos(m)*r,e=k+Math.sin(m)*r,t=m+Math.random()*b+f,d=Math.random()*x+u,g=n+Math.cos(m+Math.PI/2)*d,h=e+Math.sin(m+Math.PI/2)*d;S.push({x:g,y:h}),S.length>10&&S.shift();let L=y,A=o.createLinearGradient(v,k,n,e);A.addColorStop(0,`hsla(${L},100%,100%,${85*(1-w)}%)`),A.addColorStop(1,"#fff"),o.shadowBlur=15,o.shadowColor=`hsla(${L},80%,50%,${100*(1-10*w)}%)`,console.log(o.shadowColor),o.strokeStyle=A,o.lineWidth=7,o.beginPath(),o.moveTo(v,k),o.lineTo(n,e),o.stroke(),o.beginPath(),o.arc(g,h,d,m-Math.PI/2,t-Math.PI/2,!1),o.stroke(),v=g+Math.cos(t-Math.PI/2)*d,k=h+Math.sin(t-Math.PI/2)*d,C.push({x:v,y:k}),C.length>70&&C.shift(),m=t,C.push({x:n,y:e}),C.length>70&&C.shift();let j=function(){let r=C.reduce((r,n,e)=>(r.x+=n.x,r.y+=n.y,r),{x:0,y:0});return r.x/=C.length,r.y/=C.length,r}();!function(r,n){I=r,N=n}(j.x,j.y),function(){let r=(I-F)/10,n=(N-M)/10;Math.sqrt(r*r+n*n)<1||(F+=r,M+=n,o.setTransform(1,0,0,1,-F+l,-M+s))}(),(v>a+200||v<-200||k>i+200||k<-200)&&(br(),R())}function O(r){j(),requestAnimationFrame(O);let n=(h-f)/30;f+=n,b=Math.abs(20*n),n<5e-4&&(f=h);let e=(g-u)/30*2;u+=e,x=Math.abs(10*e),e<.02&&(u=g);let t=(d-p)/30*2;p+=t,c=Math.abs(10*t),t<.1&&(p=d)}function B(r){console.log(r),d=+r}function z(r){console.log(r),g=+r}function P(r){console.log(r),h=+r}function T(r){w=r}function _(r){switch(o.save(),r){case"blue":o.fillStyle="#aaf3";break;case"green":o.fillStyle="#afa3";break;case"red":o.fillStyle="#faa3";break;case"white":o.fillStyle="#fff8";break;case"orange":o.fillStyle="#faf3"}o.fillRect(-l+F,-s+M,a,i),o.restore()}let $,q=[{color:320,availableColors:["red","green","blue"],levels:[{targetLength:305,targetRad:1,targetCornerAngle:1.5707963267948966,potionsNum:3},{targetLength:5,targetRad:151,targetCornerAngle:1.5707963267948966,potionsNum:3},{targetLength:105,targetRad:51,targetCornerAngle:2.019595277307724,potionsNum:3},{targetLength:105,targetRad:51,targetCornerAngle:2.4683942278205517,potionsNum:4},{targetLength:305,targetRad:1,targetCornerAngle:2.019595277307724,potionsNum:4},{targetLength:105,targetRad:151,targetCornerAngle:2.9171931783333793,potionsNum:7},{targetLength:305,targetRad:151,targetCornerAngle:2.9171931783333793,potionsNum:9},{targetLength:305,targetRad:1,targetCornerAngle:2.9171931783333793,potionsNum:6},{targetLength:405,targetRad:51,targetCornerAngle:3.365992128846207,potionsNum:9}]},{color:0,availableColors:["red","green","blue"],levels:[{targetCornerAngle:2.4683942278205517,targetRad:1,targetLength:205,potionsNum:3},{targetCornerAngle:2.4683942278205517,targetRad:51,targetLength:405,potionsNum:5},{targetCornerAngle:3.365992128846207,targetRad:51,targetLength:405,potionsNum:5},{targetCornerAngle:2.019595277307724,targetRad:51,targetLength:405,potionsNum:5},{targetCornerAngle:2.019595277307724,targetRad:201,targetLength:105,potionsNum:5},{targetCornerAngle:3.365992128846207,targetRad:101,targetLength:105,potionsNum:5},{targetCornerAngle:4.263590029871862,targetRad:51,targetLength:405,potionsNum:7},{targetCornerAngle:5.161187930897517,targetRad:51,targetLength:105,potionsNum:7}]}];function D(){localStorage.setItem("progress",JSON.stringify($))}$=JSON.parse(localStorage.getItem("progress")),$||($={DB_VERSION:0}),$.DB_VERSION<0&&$.DB_VERSION,D();let J,U,H,W,V=document.getElementById("levelSelect"),G=document.getElementById("levelsList"),Y=document.querySelector("#levelSelect > div.bg"),K=document.querySelector("#levelSelect > div.arrows > div#left"),Q=document.querySelector("#levelSelect > div.arrows > div#right"),X=0;function Z(){W=q[X].levels,G.innerHTML="",W.forEach((r,n)=>{let e=document.createElement("div");e.classList.add("levelsItem"),e.style.backgroundImage=`url(static/stage${X}/level_${n}.png)`,$[X+" - "+n]||(e.style.webkitFilter="grayscale(1)"),e.onclick=()=>{H=n,er(X,n),ar()},G.appendChild(e)})}function rr(){$[U+" - "+H]=!0,D();let r=Math.floor((Date.now()-J)/1e3);ga("send","event","Progress","Win","stage-"+U+" level-"+H,r),Z()}function nr(r){q[r].levels.forEach((n,e)=>{document.createElement("img").src=`static/stage${r}/level_${e}.png`})}function er(r,n){r!=U&&(nr(r),r<q.length-1&&nr(r+1)),J=Date.now();let e=q[r];W=e.levels;let t=e.levels[n];U=r,H=n,X=U,function(r,n){lr.style.opacity="0",sr.style.transform="",lr.style.pointerEvents="none",gr=!1,fr(),setTimeout(()=>{hr()},1500),function(r,n){cr.style.backgroundImage=`url(static/stage${r}/level_${n}.png)`,ur.innerHTML="",ir={},q[r].availableColors.forEach((r,n)=>{let e=document.createElement("div");e.className="slider "+r;let t=document.createElement("input");t.type="range",t.onchange=()=>{!function(){let r=q[U].levels[H],n=Math.abs(r.targetLength-ir.red.value),e=Math.abs(r.targetRad-ir.green.value),t=Math.abs(r.targetCornerAngle-ir.blue.value),o=1-(n/400+e/400+t/6.2831)/3;o*=.03,T(.05-o),n<25&&e<25&&t<.3&&(B(r.targetLength),z(r.targetRad),P(r.targetCornerAngle),yr(r.targetLength,r.targetRad,r.targetCornerAngle),_("white"),setTimeout(mr,1700),T(.02),rr())}()};let o=document.createElement("div"),a=document.createElement("i");switch(r){case"red":t.oninput=r=>{B(r.target.value)},t.min=1,t.max=400,t.value=0,a.className="fas fa-star-of-life",ir.red=t;break;case"green":t.oninput=r=>{z(r.target.value)},t.min=1,t.max=400,t.value=0,a.className="fas fa-circle-notch",ir.green=t;break;case"blue":t.oninput=r=>{P(r.target.value)},t.min=Math.PI/2,t.max=6.2831,t.step=.001,t.value=Math.PI/2,a.className="fas fa-atom",ir.blue=t}n%2==0?(e.appendChild(o),e.appendChild(t),e.appendChild(a)):(e.appendChild(a),e.appendChild(t),e.appendChild(o)),ur.appendChild(e)})}(r,n)}(r,n),function(r,n){A=r,y=n.color,R()}(t,e),document.body.style.background=`radial-gradient(circle at center, hsl(${e.color},91%, 18%), #030e16)`,function(r,n){let e={stageIdx:r,levelIdx:n};localStorage.setItem("lastPlayed",JSON.stringify(e))}(U,H),Z()}function tr(){H<q[U].levels.length-1?er(U,H+1):U<q.length-1&&er(U+1,0)}function or(){V.style.display="flex"}function ar(){V.style.display="none"}window.addEventListener("load",(function(){W=q[0].levels,Y.onclick=()=>{ar()},K.onclick=()=>{X>0&&(X--,Z())},Q.onclick=()=>{X<q.length-1&&(X++,Z())},Z()}));let ir,lr=document.getElementById("win"),sr=lr.getElementsByClassName("top-heart")[0],pr=document.getElementById("ui"),dr=document.getElementById("canvas"),cr=document.getElementById("target"),ur=document.getElementById("sliders"),gr=!1,xr=!1;function fr(){cr.classList.add("target-large"),xr=!0}function hr(){cr.classList.remove("target-large"),xr=!1}function br(){yr(1,1,Math.PI/2)}function mr(){lr.style.opacity="1",sr.style.transform="translateY(-20px)",lr.style.pointerEvents="unset",gr=!0,lr.onclick=tr}function yr(r,n,e){let t=0;Object.keys(ir).forEach(r=>{ir[r].disabled=!0});let o=setInterval(()=>{Object.keys(ir).forEach(t=>{let o=ir[t];switch(t){case"red":o.valueAsNumber+=(r-o.valueAsNumber)/5;break;case"green":o.valueAsNumber+=(n-o.valueAsNumber)/5;break;case"blue":o.valueAsNumber+=(e-o.valueAsNumber)/5}}),t++,t>20&&(clearInterval(o),Object.keys(ir).forEach(r=>{ir[r].disabled=!1}))},15)}cr.onmouseenter=()=>{fr()},cr.onmouseout=()=>{hr()},cr.onclick=()=>{xr?hr():fr()},window.addEventListener("load",(function(){pr.style.width=dr.clientWidth+"px",pr.style.height=dr.clientHeight+"px"}));e(2),e(4);function wr(){R(),br()}window.addEventListener("load",(function(){document.getElementById("levelsBtn").addEventListener("click",or),document.getElementById("reset").addEventListener("mousedown",wr);let r=function(){let r=localStorage.getItem("lastPlayed");return r=r?JSON.parse(r):{stageIdx:0,levelIdx:0},r}();R(),O(),er(r.stageIdx,r.levelIdx),ga("create","UA-76187604-22","auto")}))}]);